# CloudNotes
This project demonstrates deploying a simple full-stack note-taking application on a local Kubernetes cluster using Kind for the cluster, cert-manager for TLS certificates, and containerized frontend and backend services. It showcases Kubernetes concepts like Deployments, Services, and Ingresses with HTTPS.

## Project Overview
CloudNotes is a cloud-native note-taking app with a React + TypeScript frontend and Node.js backend using PostgreSQL. The app is fully containerized and deployed to a local Kubernetes cluster using Kind.

The project includes:
- Kubernetes manifests for Deployments, Services, and Ingress resources
- cert-manager integration to automate self-signed TLS certificate issuance
- Dockerfiles for frontend and backend container images
- Sample SQL initialization script for PostgreSQL
- Ingress routing with HTTPS enabled for secure access

This setup provides a realistic environment to learn and experiment with Kubernetes networking, certificates, and deployments without needing a cloud provider.

## Features
- Local Kubernetes cluster setup using Kind
- React + TypeScript frontend served via NGINX
- Node.js backend API with PostgreSQL persistence
- TLS-secured ingress managed by cert-manager
- Easy deployment via Kubernetes manifests
- Docker image builds and loading into Kind cluster
- Local hostname override for accessing via browser with HTTPS

## Getting Started
### Prerequisites
- Docker Desktop installed
- Kind CLI installed
- kubectl CLI installed
- cert-manager installed in the Kind cluster
- Basic knowledge of Kubernetes concepts

## Setup
1. Clone the repository:
   ```
   git clone https://github.com/mginham/basic-kubernetes-project.git
   cd basic-kubernetes-project
   ```
2. Build Docker images for frontend and backend:
   ```
   docker build -t cloudnotes-frontend:latest ./frontend
   docker build -t cloudnotes-backend:latest ./backend
   ```
3. Create Kind cluster (if not already created):
   ```
   kind create cluster --config kind-config.yaml --name cloudnotes
   ```
4. Load Docker images into Kind cluster:
   ```
   kind load docker-image cloudnotes-frontend:latest --name cloudnotes
   kind load docker-image cloudnotes-backend:latest --name cloudnotes
   ```
5. Deploy Kubernetes manifests:
   ```
   kubectl apply -f k8s/
   ```
6. Add an entry in your hosts file to route cloudnotes.local to your localhost IP (127.0.0.1):
   ```
   127.0.0.1 cloudnotes.local
   ```
7. Access the app securely at:
   ```
   https://cloudnotes.local
   ```

Note: You may need to trust the self-signed certificate generated by cert-manager in your browser.

## Project Structure
```
cloudnotes/
│
├── backend/                # Node.js backend source and Dockerfile
├── frontend/               # React + TypeScript frontend source and Dockerfile
├── k8s/                    # Kubernetes manifests (Deployments, Services, Ingress, cert-manager)
├── scripts/                # Database init scripts (e.g., PostgreSQL)
├── Apps/                   # Utility executables (helm.exe, kind.exe)
├── kind-config.yaml        # Kind cluster config with port mappings
├── .gitignore              # Git ignore rules
└── README.md               # This documentation
```

## Notes
- The project uses self-signed certificates managed by cert-manager, suitable for local development only.
- All services communicate within the Kubernetes cluster network.
- The ingress resource exposes the frontend on standard HTTPS ports.
- PostgreSQL runs as a StatefulSet with a persistent volume for data storage.

## Future Improvements
- Add persistent volume claims for backend data
- Integrate cloud-managed Kubernetes and storage for production-ready deployment
- Add CI/CD pipeline to automate build and deployment
- Extend backend API functionality with authentication and authorization
- Use Helm charts for templating Kubernetes manifests

## Acknowledgments
This project was inspired by various Kubernetes tutorials and the Kubernetes official documentation. Special thanks to the creators of Kind and cert-manager for enabling easy local cluster management and TLS automation.

## License
This project is licensed under the MIT License.