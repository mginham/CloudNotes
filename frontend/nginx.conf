server {
    listen 80; # Listen on port 80 (standard HTTP port)

    # Serve static files for all requests to the root URL "/"
    location / {
        root /usr/share/nginx/html; # Serve files from this directory (your built frontend)
        index index.html; # Default file to serve if directory is requested
        try_files $uri /index.html; # If requested file not found, serve index.html (for SPA routing)
    }

    # Proxy requests starting with /api/ to the backend server
    location /api/ {
        proxy_pass http://backend:3001/; # Forward API requests to backend service on port 3001
    }
}